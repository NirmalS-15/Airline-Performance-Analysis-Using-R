install.packages(c("shiny", "shinydashboard", "DT", "plotly", "dplyr", "ggplot2", "shinycssloaders"))
library(shiny); runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
safety_file <- "C:\Users\Nirmal\Desktop\FLIGHT BDA\Screenshot  294 .png.csv"              # Sno,Airline,2020,2021,2022 (accident counts)
reviews_file <- "C:\Users\Nirmal\Desktop\FLIGHT BDA\Indian_Domestic_Airline.csv"        # AirLine_Name,Rating - 10,Title,Name,Date,Review,Recommond
# Run the application
shinyApp(ui = ui, server = server)
"shiny" %in% installed.packages()
library(shiny)
library(shiny)
library(shiny)
library(shinydashboard)
library(DT)
library(plotly)
library(dplyr)
library(ggplot2)
library(shinycssloaders)
# Data Loading Function
load_airline_data <- function() {
# File paths for the three CSV files
operational_file <- "operational_data.csv"
safety_file <- "safety_data.csv"
reviews_file <- "customer_reviews.csv"
# Try to load real data files
if(file.exists(operational_file) && file.exists(safety_file) && file.exists(reviews_file)) {
# Load operational data
operational_data <- read.csv(operational_file, stringsAsFactors = FALSE)
# Load safety data (accidents by year)
safety_data <- read.csv(safety_file, stringsAsFactors = FALSE)
# Load customer reviews
reviews_data <- read.csv(reviews_file, stringsAsFactors = FALSE, encoding = "UTF-8")
message("✅ Successfully loaded all 3 CSV files!")
} else {
# Create sample data if files don't exist
message("⚠️ CSV files not found. Using sample data for demo.")
# Sample operational data
operational_data <- data.frame(
flight_date = rep("2023-10-15", 20),
airline = rep(c("SpiceJet", "Vistara", "AirAsia", "GO FIRST", "Indigo", "Air India"), length.out = 20),
flight_num = paste0("FL", 1001:1020),
class = rep("economy", 20),
from = rep(c("Delhi", "Mumbai", "Bangalore"), length.out = 20),
dep_time = c("06:20", "08:50", "10:20", "14:20", "18:55", "07:15"),
to = rep(c("Mumbai", "Delhi", "Chennai"), length.out = 20),
arr_time = c("08:40", "11:10", "12:35", "16:30", "21:05", "09:25"),
duration = rep(c("02h 20m", "02h 15m", "02h 10m"), length.out = 20),
price = c(6013, 6015, 6016, 6121, 6014, 6015, 6008, 6200, 5800, 6500,
6013, 6015, 6016, 6121, 6014, 6015, 6008, 6200, 5800, 6500),
stops = rep(c("non-stop", "1-stop"), length.out = 20)
)
# Sample safety data (accidents by year)
safety_data <- data.frame(
Sno = 1:6,
Airline = c("Indigo", "SpiceJet", "Air India", "Vistara", "Air Asia", "GO FIRST"),
"2020" = c(4, 6, 4, 0, 0, 1),
"2021" = c(4, 6, 1, 1, 1, 0),
"2022" = c(4, 2, 1, 1, 0, 0)
)
names(safety_data) <- c("Sno", "Airline", "X2020", "X2021", "X2022")
# Sample customer reviews
reviews_data <- data.frame(
AirLine_Name = c("AirAsia India", "SpiceJet", "Vistara", "Indigo", "Air India", "GO FIRST"),
"Rating...10" = c(6, 7, 9, 8, 5, 6),
Title = c("crew were welcoming", "good service", "excellent", "on time", "average", "budget friendly"),
Name = c("V Bakshi", "John D", "Sarah K", "Mike R", "Priya S", "Raj P"),
Date = rep("14th October 2023", 6),
Review = c("Good flight experience", "Decent service", "Excellent service quality",
"On time departure", "Could be better", "Good for budget travel"),
Recommond = c("Yes", "Yes", "Yes", "Yes", "No", "Yes")
)
names(reviews_data) <- c("AirLine_Name", "Rating - 10", "Title", "Name", "Date", "Review", "Recommond")
}
return(list(
operational = operational_data,
safety = safety_data,
reviews = reviews_data
))
}
# Data Processing Function
process_airline_data <- function(datasets) {
# Clean and standardize airline names
standardize_airline_names <- function(name) {
name <- trimws(name)
case_when(
grepl("AirAsia|Air Asia", name, ignore.case = TRUE) ~ "AirAsia",
grepl("Indigo|IndiGo", name, ignore.case = TRUE) ~ "IndiGo",
grepl("GO FIRST|Go Air", name, ignore.case = TRUE) ~ "GO FIRST",
TRUE ~ name
)
}
# Process operational data
operational_clean <- datasets$operational %>%
mutate(
airline = standardize_airline_names(airline),
price_numeric = as.numeric(gsub("[₹,]", "", as.character(price))),
duration_minutes = case_when(
grepl("(\\d+)h\\s*(\\d+)m", duration) ~
as.numeric(gsub("(\\d+)h\\s*(\\d+)m", "\\1", duration)) * 60 +
as.numeric(gsub("(\\d+)h\\s*(\\d+)m", "\\2", duration)),
TRUE ~ 120
)
) %>%
filter(!is.na(price_numeric))
# Aggregate operational data by airline
operational_summary <- operational_clean %>%
group_by(airline) %>%
summarise(
avg_price = round(mean(price_numeric, na.rm = TRUE), 0),
avg_duration = round(mean(duration_minutes, na.rm = TRUE), 0),
total_flights = n(),
nonstop_flights = sum(stops == "non-stop", na.rm = TRUE),
nonstop_percentage = round((nonstop_flights / total_flights) * 100, 1),
routes_covered = n_distinct(paste(from, to)),
.groups = 'drop'
)
# Process safety data
safety_clean <- datasets$safety %>%
mutate(Airline = standardize_airline_names(Airline)) %>%
rowwise() %>%
mutate(
total_accidents = sum(c_across(starts_with("X20") | starts_with("20")), na.rm = TRUE),
recent_accidents = if("X2022" %in% names(.)) X2022 else if("2022" %in% names(.)) `2022` else 0,
safety_score = pmax(0, 100 - (total_accidents * 10) - (recent_accidents * 5))
) %>%
ungroup() %>%
select(Airline, total_accidents, recent_accidents, safety_score)
# Process customer reviews
reviews_clean <- datasets$reviews %>%
mutate(
AirLine_Name = standardize_airline_names(AirLine_Name),
rating_numeric = as.numeric(get(names(.)[grepl("Rating", names(.))])),
recommendation = case_when(
grepl("Yes", Recommond, ignore.case = TRUE) ~ 1,
grepl("No", Recommond, ignore.case = TRUE) ~ 0,
TRUE ~ 0.5
)
) %>%
group_by(AirLine_Name) %>%
summarise(
avg_rating = round(mean(rating_numeric, na.rm = TRUE), 1),
total_reviews = n(),
recommendation_rate = round(mean(recommendation, na.rm = TRUE) * 100, 1),
.groups = 'drop'
)
# Combine all data
combined_data <- operational_summary %>%
left_join(safety_clean, by = c("airline" = "Airline")) %>%
left_join(reviews_clean, by = c("airline" = "AirLine_Name")) %>%
mutate(
safety_score = ifelse(is.na(safety_score), 75, safety_score),
avg_rating = ifelse(is.na(avg_rating), 5, avg_rating),
recommendation_rate = ifelse(is.na(recommendation_rate), 50, recommendation_rate),
# Calculate overall performance score
performance_score = round(
(safety_score * 0.3) +
(avg_rating * 10 * 0.25) +
(recommendation_rate * 0.2) +
(nonstop_percentage * 0.15) +
(pmax(0, 100 - (avg_price - 5000)/100) * 0.1), 1
)
) %>%
arrange(desc(performance_score))
return(combined_data)
}
# Load and process data
raw_datasets <- load_airline_data()
print("Data loaded successfully!")
# Run the application
shinyApp(ui = ui, server = server)
library(shiny); runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
library(shiny); runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
library(shiny); runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
# Test the file for syntax errors
source("C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R")
# Complete Airline Performance Analysis Dashboard with Preprocessing
# All-in-One R Solution
# Load required libraries
library(shiny)
library(shinydashboard)
library(DT)
library(plotly)
library(dplyr)
library(ggplot2)
library(shinycssloaders)
library(tidyr)
library(stringr)
library(shiny); runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
# Create a final visualization of the rankings
ggplot(airline_ranking, aes(x = reorder(airline, predicted_rating), y = predicted_rating, fill = predicted_rating)) +
geom_bar(stat = "identity") +
labs(
title = "Final Ranking of Airlines by Predicted Performance",
subtitle = "Based on Price, Duration, Accidents, and Sentiment",
x = "Airline",
y = "Predicted Rating"
) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1),
legend.position = "none")
library(dplyr)
library(shiny); runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
library(shiny); runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
rlang::last_trace()
rlang::last_trace(drop = FALSE)
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
library(shiny); runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
library(shiny); runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA/airline_dashboard.R')
print(head(airline_performance))
# First, make sure you have the data processing function
process_airline_data <- function(datasets) {
# Clean and standardize airline names
standardize_airline_names <- function(name) {
name <- trimws(name)
dplyr::case_when(
grepl("AirAsia|Air Asia", name, ignore.case = TRUE) ~ "AirAsia",
grepl("Indigo|IndiGo", name, ignore.case = TRUE) ~ "IndiGo",
grepl("GO FIRST|Go Air", name, ignore.case = TRUE) ~ "GO FIRST",
TRUE ~ name
)
}
# Process operational data
operational_clean <- datasets$operational %>%
mutate(
airline = standardize_airline_names(airline),
price_numeric = as.numeric(gsub("[₹,]", "", as.character(price))),
duration_minutes = case_when(
grepl("(\\d+)h\\s*(\\d+)m", duration) ~
as.numeric(gsub("(\\d+)h\\s*(\\d+)m", "\\1", duration)) * 60 +
as.numeric(gsub("(\\d+)h\\s*(\\d+)m", "\\2", duration)),
TRUE ~ 120
)
) %>%
filter(!is.na(price_numeric))
# Aggregate operational data by airline
operational_summary <- operational_clean %>%
group_by(airline) %>%
summarise(
avg_price = round(mean(price_numeric, na.rm = TRUE), 0),
avg_duration = round(mean(duration_minutes, na.rm = TRUE), 0),
total_flights = n(),
nonstop_flights = sum(stops == "non-stop", na.rm = TRUE),
nonstop_percentage = round((nonstop_flights / total_flights) * 100, 1),
routes_covered = n_distinct(paste(from, to)),
.groups = 'drop'
)
# Process safety data
safety_clean <- datasets$safety %>%
mutate(Airline = standardize_airline_names(Airline)) %>%
rowwise() %>%
mutate(
total_accidents = sum(c_across(starts_with("X20") | starts_with("20")), na.rm = TRUE),
recent_accidents = if("X2022" %in% names(.)) X2022 else if("2022" %in% names(.)) `2022` else 0,
safety_score = pmax(0, 100 - (total_accidents * 10) - (recent_accidents * 5))
) %>%
ungroup() %>%
select(Airline, total_accidents, recent_accidents, safety_score)
# Process customer reviews
reviews_clean <- datasets$reviews %>%
mutate(
AirLine_Name = standardize_airline_names(AirLine_Name),
rating_numeric = as.numeric(get(names(.)[grepl("Rating", names(.))])),
recommendation = case_when(
grepl("Yes", Recommond, ignore.case = TRUE) ~ 1,
grepl("No", Recommond, ignore.case = TRUE) ~ 0,
TRUE ~ 0.5
)
) %>%
group_by(AirLine_Name) %>%
summarise(
avg_rating = round(mean(rating_numeric, na.rm = TRUE), 1),
total_reviews = n(),
recommendation_rate = round(mean(recommendation, na.rm = TRUE) * 100, 1),
.groups = 'drop'
)
# Combine all data
combined_data <- operational_summary %>%
left_join(safety_clean, by = c("airline" = "Airline")) %>%
left_join(reviews_clean, by = c("airline" = "AirLine_Name")) %>%
mutate(
safety_score = ifelse(is.na(safety_score), 75, safety_score),
avg_rating = ifelse(is.na(avg_rating), 5, avg_rating),
recommendation_rate = ifelse(is.na(recommendation_rate), 50, recommendation_rate),
# Calculate overall performance score
performance_score = round(
(safety_score * 0.3) +
(avg_rating * 10 * 0.25) +
(recommendation_rate * 0.2) +
(nonstop_percentage * 0.15) +
(pmax(0, 100 - (avg_price - 5000)/100) * 0.1), 1
)
) %>%
arrange(desc(performance_score))
return(combined_data)
}
# Process the data
airline_performance <- process_airline_data(raw_datasets)
print("Data loaded successfully!")
shiny::runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
shiny::runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
shiny::runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
shiny::runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
shiny::runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
shiny::runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
shiny::runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
runApp('C:/Users/Nirmal/Desktop/FLIGHT BDA')
